# üìù –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π FACEIT CS2 –ë–æ—Ç–∞

## v2.1.0 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–π (2025-08-19)

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

#### –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–¥—Å—á–µ—Ç –º–∞—Ç—á–µ–π**: –¢–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 1104 –≤–º–µ—Å—Ç–æ 631
  - `faceit_client.py:249-277` - –ü–µ—Ä–µ—Ö–æ–¥ —Å lifetime –Ω–∞ segments aggregation
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω K/D Ratio**: –†–∞—Å—á–µ—Ç –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö kills/deaths –≤–º–µ—Å—Ç–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ API –ø–æ–ª—è
  - `faceit_client.py:282-287` - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ä—Ç–∞–º
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω —É—Ä–æ–Ω –º–æ–ª–æ—Ç–æ–≤–∞–º–∏/–≥—Ä–∞–Ω–∞—Ç–∞–º–∏**: –í–º–µ—Å—Ç–æ 0.0 —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
  - `faceit_client.py:339-348` - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ utility damage (40% –º–æ–ª–æ—Ç–æ–≤—ã, 60% –≥—Ä–∞–Ω–∞—Ç—ã)

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏–∏ –º–∞—Ç—á–µ–π
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω AttributeError –≤ FSM**: –ö–Ω–æ–ø–∫–∏ "5Ô∏è‚É£ –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5", "üîü vs 10" —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç
  - `bot/handlers/main_handler.py` - –ó–∞–º–µ–Ω–∞ `message.bot.session.api.id` –Ω–∞ `message.bot.id` –≤ 9 –º–µ—Å—Ç–∞—Ö
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ retry –ª–æ–≥–∏–∫–∞ –¥–ª—è FACEIT API**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ 500/504 –æ—à–∏–±–∫–∞—Ö
  - `faceit_client.py:74-80` - Exponential backoff —Å –º–∞–∫—Å–∏–º—É–º–æ–º 8 —Å–µ–∫—É–Ω–¥, 3 –ø–æ–ø—ã—Ç–∫–∏
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - `bot/handlers/match_history_handler.py:66-82,154-168` - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫

### üîÑ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- **Retry –º–µ—Ö–∞–Ω–∏–∑–º**: –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ 500/502/503/504 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å exponential backoff
- **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ retry –ø–æ–ø—ã—Ç–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- **Graceful degradation**: –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```
–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
‚ùå –ú–∞—Ç—á–∏: 631 (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
‚ùå K/D Ratio: –Ω–µ—Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è  
‚ùå –ú–æ–ª–æ—Ç–æ–≤—ã: 0.0 —É—Ä–æ–Ω–∞
‚ùå –§—É–Ω–∫—Ü–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏: AttributeError

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
‚úÖ –ú–∞—Ç—á–∏: 1104 (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
‚úÖ K/D Ratio: 0.996 (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ)  
‚úÖ –ú–æ–ª–æ—Ç–æ–≤—ã: 31,602 —É—Ä–æ–Ω–∞
‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏: —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
```

### üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `FIXES_DOCUMENTATION.md`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ: `QUICK_FIXES_SUMMARY.md`
- –û–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å Docker

---

## v1.2.0 - –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (2025-08-19)

### üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π**: –ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π, –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ä–º—ã, –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–∞—Ç—á, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (main, stats, match, settings)
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ API –∫–ª—é—á–µ–π –≤ –ª–æ–≥–∞—Ö, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ä—Ç–∞–º, –∑–∞ —Å–µ—Å—Å–∏—é, –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ 5 –∏–≥—Ä–æ–∫–æ–≤, –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ä–º—ã –∏–≥—Ä–æ–∫–∞**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ (10/20/50 –º–∞—Ç—á–µ–π), –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤

### üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ main.py –∫ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
  ```
  bot/
  ‚îú‚îÄ‚îÄ handlers/
  ‚îÇ   ‚îú‚îÄ‚îÄ main_handler.py      # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
  ‚îÇ   ‚îú‚îÄ‚îÄ stats_handler.py     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
  ‚îÇ   ‚îú‚îÄ‚îÄ match_handler.py     # –ò—Å—Ç–æ—Ä–∏—è –∏ –∞–Ω–∞–ª–∏–∑ –º–∞—Ç—á–µ–π
  ‚îÇ   ‚îî‚îÄ‚îÄ settings_handler.py  # –ü—Ä–æ—Ñ–∏–ª—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  ‚îî‚îÄ‚îÄ services/               # –ë—É–¥—É—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã
  ```
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤**: –†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ `Router is already attached`
- **–£–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏**: –û—Ç–¥–µ–ª—å–Ω—ã–µ FSM –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: API –∫–ª—é—á–∏ –±–æ–ª—å—à–µ –Ω–µ –≤–∏–¥–Ω—ã –≤ –ª–æ–≥–∞—Ö
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –≤–≤–æ–¥–æ–≤
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### üìä –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### –ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N –º–∞—Ç—á–µ–π (5/10/30 –∏–ª–∏ custom)
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –º–∞—Ç—á–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

#### –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ä–º—ã
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ –∏–≥—Ä—ã
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ winrate –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

#### –ü–æ—Å–ª–µ–¥–Ω–∏–π –º–∞—Ç—á
- –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –º–∞—Ç—á–∞
- –°–æ—Å—Ç–∞–≤—ã –∫–æ–º–∞–Ω–¥ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –°—Å—ã–ª–∫–∏ –Ω–∞ FACEIT –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π

#### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ 5 –∏–≥—Ä–æ–∫–æ–≤
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –≤—Å–µ–º –∫–ª—é—á–µ–≤—ã–º –º–µ—Ç—Ä–∏–∫–∞–º
- –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º

#### –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç—á–∞
- –ê–Ω–∞–ª–∏–∑ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ –º–∞—Ç—á FACEIT
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤ –∫–æ–º–∞–Ω–¥
- –ü—Ä–æ–≥–Ω–æ–∑ —Å–∏–ª—ã –∫–æ–º–∞–Ω–¥

### üîí –£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: API –∫–ª—é—á–∏ —Å–∫—Ä—ã—Ç—ã –≤ –ª–æ–≥–∞—Ö
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∏–∫–Ω–µ–π–º–æ–≤, URL, —á–∏—Å–µ–ª
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –ó–∞—â–∏—Ç–∞ –æ—Ç injection –∞—Ç–∞–∫

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤

---

## v1.1.0 - –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (2025-01-08)

### üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é —Å 9 —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- ‚úÖ –†–∞–±–æ—á–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞ —Å HLTV 2.1 —Ä–µ–π—Ç–∏–Ω–≥–æ–º
- ‚úÖ FSM —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –¥–∏–∞–ª–æ–≥–∞
- ‚úÖ Health checks –∏ API endpoints

### üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **–ü–µ—Ä–µ—Ö–æ–¥ —Å test_main.py –Ω–∞ main.py**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ –µ–¥–∏–Ω—ã–π –º–æ–¥—É–ª—å
- **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤**: –°–æ–∑–¥–∞–Ω –µ–¥–∏–Ω—ã–π main_router –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è FSM**: –í—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –∫–ª–∞—Å—Å BotStates
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤–º–µ—Å—Ç–æ –º–æ–¥—É–ª—å–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
- **Router attachment conflict**: `RuntimeError: Router is already attached to Dispatcher`
- **Docker caching issues**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞
- **Dependency conflicts**: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å aiogram 3.15.0 –∏ pydantic 2.10.3
- **Network conflicts**: Pool overlaps –≤ Docker networking

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### Dockerfile
```diff
- CMD ["python", "test_main.py"]
+ CMD ["python", "main.py"]
```

#### docker-compose.yml
```diff
  environment:
-   - DEBUG=true
+   - DEBUG=false

+ # –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –¥–ª—è FastAPI
+ ports:
+   - "8000:8000"

+ # Health check –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
+ healthcheck:
+   test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
+   interval: 30s
+   timeout: 10s
+   retries: 3
+   start_period: 60s

  networks:
    faceit-network:
      driver: bridge
      ipam:
        config:
-         - subnet: 172.20.0.0/16
+         - subnet: 172.22.0.0/16
```

#### requirements.txt
```diff
- pydantic==2.10.3
+ pydantic>=2.4.1,<2.10
```

#### main.py (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
```python
# –°–æ–∑–¥–∞–µ–º –µ–¥–∏–Ω—ã–π —Ä–æ—É—Ç–µ—Ä –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
from aiogram import Router, F
from aiogram.filters import CommandStart, StateFilter
from aiogram.types import Message, CallbackQuery
from aiogram.fsm.context import FSMContext
from aiogram.fsm.state import State, StatesGroup

# –°–æ–∑–¥–∞–µ–º –µ–¥–∏–Ω—ã–π —Ä–æ—É—Ç–µ—Ä
main_router = Router()

# FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
class BotStates(StatesGroup):
    waiting_for_nickname = State()
    waiting_for_custom_number = State()
    waiting_for_player_nickname = State()
    waiting_for_match_url = State()
    waiting_for_form_count = State()
    waiting_for_custom_count = State()

# –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä—è–º–æ –≤ main.py
@main_router.message(CommandStart())
async def start_command(message: Message, state: FSMContext):
    # –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –º–µ–Ω—é

@main_router.callback_query(F.data == "stats_overall")
async def show_overall_stats(callback: CallbackQuery):
    # –†–∞–±–æ—á–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –µ–¥–∏–Ω—ã–π —Ä–æ—É—Ç–µ—Ä
dp.include_router(main_router)
```

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 4 (main.py, Dockerfile, docker-compose.yml, requirements.txt)
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ**: ~200
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ —É–¥–∞–ª–µ–Ω–æ**: ~20
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ**: 15+
- **API endpoints**: 5 –∞–∫—Ç–∏–≤–Ω—ã—Ö

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Docker build –∏ deploy
- ‚úÖ Health checks
- ‚úÖ Telegram bot polling
- ‚úÖ FACEIT API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
- ‚úÖ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é

### üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
aiogram==3.15.0
fastapi==0.115.6
uvicorn==0.34.0
pydantic>=2.4.1,<2.10
httpx==0.28.1
python-dotenv==1.0.1
```

### üöÄ –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–µ–ø–ª–æ—è
```bash
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
faceit_cs2_bot   Up (healthy)   0.0.0.0:8000->8000/tcp
faceit_redis     Up (healthy)   0.0.0.0:6379->6379/tcp

# –õ–æ–≥–∏ –±–µ–∑ –æ—à–∏–±–æ–∫
2025-08-18 21:07:21,196 - aiogram.dispatcher - INFO - Run polling for bot @test_faceit_darkhan_bot id=8282817400
INFO: Uvicorn running on http://0.0.0.0:8000
```

---

## v1.0.0 - –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è (2024-12-XX)

### üöÄ –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FACEIT API
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ v1.0.0
```
‚îú‚îÄ‚îÄ main.py                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ bot_handlers.py            # –û—Å–Ω–æ–≤–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îú‚îÄ‚îÄ additional_handlers.py     # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏  
‚îú‚îÄ‚îÄ history_handlers.py        # –ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π
‚îú‚îÄ‚îÄ match_handlers.py          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–∞—Ç—á–µ–π
‚îú‚îÄ‚îÄ config.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ storage.py                 # –°–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ faceit_client.py           # FACEIT API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ keyboards.py               # Telegram –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile                 # Docker –æ–±—Ä–∞–∑
‚îî‚îÄ‚îÄ docker-compose.yml         # Docker Compose
```

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ v1.0.0
- –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã –≤ –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª–µ
- –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
- –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º —Å test_main.py
- –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-08*